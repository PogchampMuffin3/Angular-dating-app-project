<div class="container-fluid p-0 bg-light min-vh-100">

  <div class="container pb-5">

    <!-- SEKCJA NAGŁÓWKA PROFILU -->
    <div class="card border-0 shadow-sm mt-3 overflow-hidden">
      <!-- Zdjęcie w tle (szare placeholder) -->
      <div class="bg-secondary" style="height: 200px; background: linear-gradient(45deg, #3b5998, #8b9dc3);"></div>

      <div class="card-body position-relative pt-0 pb-4">
        <!-- Avatar (nachodzący na tło) -->
        <div *ngIf="user" 
          class="position-absolute translate-middle-y ms-3 border border-4 border-white rounded-circle d-flex align-items-center justify-content-center text-white h1 fw-bold"
          [ngClass]="user.avatarColor" 
          style="width: 140px; height: 140px; top: 0;">
          {{ user.name.charAt(0) }}
        </div>

        <!-- Dane i przyciski (obok avatara na Desktop, pod nim na Mobile) -->
        <div class="row mt-5 mt-md-0">
          <div class="col-md-3"></div> <!-- Pusta przestrzeń pod avatarem -->

          <div class="col-md-9 d-flex flex-column flex-md-row justify-content-between align-items-md-end mt-4 mt-md-2">
            <div>
              <h2 class="fw-bold mb-0">{{ user?.name }}</h2>
              <span class="text-muted">345 znajomych</span>
              <!-- Miniaturki znajomych -->
              <div class="d-flex mt-2">
                <div class="bg-secondary rounded-circle border border-white" style="width: 30px; height: 30px; margin-right: -10px;"></div>
                <div class="bg-primary rounded-circle border border-white" style="width: 30px; height: 30px; margin-right: -10px;"></div>
                <div class="bg-success rounded-circle border border-white" style="width: 30px; height: 30px;"></div>
              </div>
            </div>

            <div class="d-flex gap-2 mt-3 mt-md-0">
              <button class="btn btn-primary"><i class="bi bi-plus-lg me-1"></i> Dodaj do relacji</button>
              <button class="btn btn-light bg-light-gray"><i class="bi bi-pencil me-1"></i> Edytuj profil</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- DOLNA CZĘŚĆ (Grid: Info po lewej, Posty po prawej) -->
    <div class="row mt-4">

      <!-- LEWA KOLUMNA (Info) -->
      <div class="col-md-5 col-lg-4 mb-4">
        <div class="card border-0 shadow-sm mb-3">
          <div class="card-body">
            <h5 class="fw-bold mb-3">Prezentacja</h5>
            <div class="mb-2"><i class="bi bi-briefcase me-2 text-muted"></i> Pracuje w <span class="fw-bold">{{ user?.work }}</span></div>
            <div class="mb-2"><i class="bi bi-house me-2 text-muted"></i> Mieszka w: <span class="fw-bold">Warszawa</span></div>
            <div class="mb-2"><i class="bi bi-heart me-2 text-muted"></i> W związku</div>
            <button class="btn btn-light w-100 mt-2 fw-bold">Edytuj szczegóły</button>
          </div>
        </div>

        <div class="card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="fw-bold mb-0">Zdjęcia</h5>
              <a href="#" class="text-decoration-none">Zobacz wszystkie</a>
            </div>
            <!-- Siatka zdjęć -->
            <div class="row g-1 rounded overflow-hidden">
              <div class="col-4"><div class="ratio ratio-1x1 bg-secondary"></div></div>
              <div class="col-4"><div class="ratio ratio-1x1 bg-dark"></div></div>
              <div class="col-4"><div class="ratio ratio-1x1 bg-primary"></div></div>
              <div class="col-4"><div class="ratio ratio-1x1 bg-info"></div></div>
              <div class="col-4"><div class="ratio ratio-1x1 bg-warning"></div></div>
              <div class="col-4"><div class="ratio ratio-1x1 bg-danger"></div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- PRAWA KOLUMNA (Posty) -->
      <div class="col-md-7 col-lg-8">
        <!-- Input posta -->
        <div class="card border-0 shadow-sm mb-3">
          <div class="card-body d-flex">
            <div class="bg-dark rounded-circle me-2" style="width: 40px; height: 40px;"></div>
            <input type="text" class="form-control rounded-pill bg-light border-0" placeholder="O czym myślisz?">
          </div>
          <div class="card-footer bg-white border-top-0 d-flex justify-content-between px-4 pb-3">
            <button class="btn btn-sm btn-light text-danger"><i class="bi bi-camera-video-fill me-1"></i> Na żywo</button>
            <button class="btn btn-sm btn-light text-success"><i class="bi bi-images me-1"></i> Zdjęcie</button>
            <button class="btn btn-sm btn-light text-warning"><i class="bi bi-emoji-smile-fill me-1"></i> Nastrój</button>
          </div>
        </div>

        <!-- Przykładowy Post -->
        <div *ngFor="let post of userPosts" class="card border-0 shadow-sm mb-3">
          <div class="card-header bg-white border-0 d-flex align-items-center">
            <!-- Dynamiczny kolor avatara autora posta -->
            <div class="rounded-circle me-2 d-flex align-items-center justify-content-center text-white fw-bold"
              [ngClass]="post.avatarColor"
              style="width: 40px; height: 40px;">
              {{ post.author.charAt(0) }}
            </div>
            <div>
              <h6 class="mb-0 fw-bold">{{ post.author }}</h6>
              <small class="text-muted">{{ post.time }}</small>
            </div>
          </div>
          <div class="card-body">
            <p>{{ post.content }}</p>
          </div>
    
          <div class="card-footer bg-white d-flex justify-content-between border-top">
            <button class="btn btn-light flex-grow-1"><i class="bi bi-hand-thumbs-up"></i> Lubię to! ({{ post.likes }})</button>
            <button class="btn btn-light flex-grow-1"><i class="bi bi-chat"></i> Komentarz</button>
            <button class="btn btn-light flex-grow-1"><i class="bi bi-share"></i> Udostępnij</button>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>
